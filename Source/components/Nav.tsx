"use client"

import { useState, useRef } from 'react';
import Link from 'next/link'
import Image from 'next/image';
import ImageSVG from '@components/ImageSVG';

const Nav = () => {
    const [ toggleDropdown, setToggleDropdown ] = useState(false);

    const scrollToSection = (sectionToFocus: string) => {
        const tempSection = document.getElementById(sectionToFocus);
        if (tempSection){     
            tempSection.scrollIntoView({ behavior: "smooth", block: "start" });
            setToggleDropdown(false);
        }
    }

    return (
        <div className="w-full fixed top-0 z-50">
        <nav className="flex-between w-full pt-3 px-8 py-4 bg-primary-nav-blue text-white">
            <span
                className="flex gap-2 flex-center"
            >
                {/* Home Link */}
                <span 
                    className="text-3xl object-contain hover:text-primary-orange cursor-pointer"
                    onClick={() => scrollToSection("home")}
                >
                    ANDY ODLE
                </span>

                {/* LinkedIn Link */}
                <a 
                    href="https://www.linkedin.com/in/andy-odle-41398917"
                    target="_blank"                    
                    className="pl-4 pr-2 cursor-pointer"
                >
                    <ImageSVG 
                        width={32}
                        height={32}
                        alt="LinkedIn Logo"
                        fill="#ffffff"
                        viewBox="0 0 50 50"
                        pathData="M 24.522656,1.996875 C 13.615817,2.0162082 3.5334203,10.90463 2.2050201,21.745366 0.79317731,31.300416 6.0034634,41.483663 14.79055,45.629725 23.048299,49.751622 33.76251,48.403965 40.499787,42.002496 47.254554,35.896453 49.934712,25.627348 46.608458,17.08506 43.598053,8.8202006 35.589802,2.5835234 26.756055,2.0655375 26.013112,2.0052219 25.267599,1.9977756 24.522656,1.996875 Z m 0.926953,2 c 10.140137,0.014995 19.488056,8.44289 20.435633,18.564508 1.113534,9.075106 -4.32072,18.585442 -12.908858,21.902777 C 24.670764,47.889681 14.25918,45.417348 8.6856988,38.278058 2.9015324,31.208074 2.3353672,20.261583 7.8416865,12.866527 11.819973,7.2987695 18.565054,3.7420267 25.449609,3.996875 Z m -9.658593,7.997656 c -3.431028,0.02755 -3.689897,5.811855 -0.188682,6.00793 3.271854,0.485591 4.78677,-4.526401 1.604837,-5.750076 -0.442245,-0.219905 -0.93118,-0.261506 -1.416155,-0.257854 z m 1.180859,6.931641 c -1.3508,0.413629 -3.644764,-0.730782 -3.975388,1.341749 -0.09039,4.890873 0.04085,9.822873 0.0035,14.732079 1.054883,1.803953 3.30106,0.912101 4.979296,1.002341 1.481397,-0.478036 1.129557,-2.025977 1.142959,-3.267327 -0.01992,-4.287713 -0.03984,-8.575426 -0.05975,-12.863139 -0.454192,-0.683401 -1.30046,-0.974821 -2.090625,-0.945703 z m 7.353125,0.03516 c -1.150539,0.184433 -2.917805,-0.459037 -3.289272,1.146639 -0.190921,1.728522 0.04791,3.482455 -0.03573,5.227514 0,3.221506 0,6.443013 0,9.664519 1.218492,1.659388 5.303639,1.63291 5.916118,-0.244352 0.389676,-2.758909 -0.269988,-5.582426 0.270474,-8.317061 C 28.41507,23.625106 33.145242,25.700499 32,28.540881 32,30.69392 32,32.84696 32,35 c 1.245099,1.675836 5.601077,1.697781 5.969961,-0.475342 0.0044,-2.983561 0.138802,-5.981504 -0.06729,-8.962318 C 37.622794,20.786524 31.641955,17.343706 27.456641,19.811719 26.50625,19.269792 25.420848,18.964386 24.325,18.961328 Z m -9.175,1.537891 c 3.062023,-0.337612 3.521154,2.752061 3.140342,5.034093 0.08432,2.915748 -0.309605,5.847549 -0.774724,8.689485 -2.279827,2.1103 -3.993529,-2.560338 -3.750624,-4.524263 -0.275706,-1.765083 -0.230057,-3.567131 -0.160689,-5.355953 1.682668,-0.0103 1.370142,2.042963 1.448631,0.777149 0.01968,-0.914534 -0.02929,-3.889093 -0.01855,-3.492151 0.02587,0.859446 -0.04148,2.012712 -0.03438,0.484321 -0.286099,-2.513797 0.339966,2.27269 -0.620316,0.24137 -0.43841,-0.605011 -0.240507,-2.063825 0.770312,-1.854051 z m -0.233984,0.720703 c 0.377498,-0.04755 -0.139337,-0.261302 0,6.4e-5 z M 15,21.082422 c 0.0027,-0.01881 -0.06357,0.01911 0,0 z m 0,-0.002 c 0.445241,-0.04804 0.434141,-0.413165 0,0 z m 0.334375,-0.159375 c 1.055086,0.0366 1.387215,-0.247679 0,0 z m 0.759766,-0.02461 c -1.46617,0.208987 -0.588332,0.142618 0.169927,0.03984 l -0.169922,-0.03984 z m 0.169922,0.03984 c 0.597372,0.256867 -1.179379,0.03429 -1.208606,0.144138 1.486241,0.06854 2.288586,0.157595 0.360145,0.09764 -0.753156,0.186213 -0.255613,2.11171 0.364565,2.733156 -0.614641,1.430177 -1.006419,2.475809 -0.701636,4.208245 0.428044,1.809523 -0.875498,4.94221 0.943805,5.784399 1.747078,0.365989 0.570264,-2.851349 0.915919,-4.369565 0.02966,-2.355638 -0.0473,-4.719363 0.05472,-7.069522 0.0458,0.09532 0.102852,-0.822345 -0.138015,-0.918257 -0.453519,-0.347569 0.841787,0.596522 0.0064,-0.492291 -0.168031,-0.232883 -0.390114,-0.128434 -0.597256,-0.117943 z m 0.274218,-0.03164 c 0.591183,-0.01262 -0.463339,-0.09694 0,0 z m 0.544531,0.97539 -0.0027,0.180469 z m -0.0027,0.180469 c -0.177005,3.360691 -0.03381,6.743802 -0.08005,10.113673 -0.01767,-3.139652 3.4e-4,-6.380468 -0.009,-9.459763 -0.0087,3.553515 -0.01713,7.107031 -0.02578,10.660547 0.183212,0.957591 0.04066,-2.643862 0.08684,-3.604396 -0.0019,-2.570021 -0.01251,-5.140281 0.028,-7.710061 z M 17,33.849609 c -1.233824,0.204057 -1.542765,0.596773 0,0 z m -1.189453,0.234375 c 1.36885,0.522943 -1.630947,-1.112871 -0.776177,-0.956762 -0.0023,0.537599 -0.258763,1.070242 0.776177,0.956762 z m -0.797266,-0.707422 c 0.0035,-0.675118 0.03451,-1.488605 0.0211,-2.722455 -0.0069,-1.255169 -0.05451,1.106948 -0.03438,1.524018 0.03142,-2.543943 -0.133977,0.226202 0.01328,1.198437 z m -0.02851,-2.401953 c 0.01728,-0.79553 0.03776,-1.984636 -0.0066,-2.553901 1.98e-4,0.851292 0.0013,1.702698 0.0066,2.553901 z m -0.0066,-2.553906 c -0.09854,-1.051913 0.416674,-3.850243 -0.815131,-1.765518 -1.494467,0.930725 0.389524,4.554578 0.815131,1.765518 z M 15,28.355078 c 0.05558,-0.853545 0.05956,-2.007107 0,-2.705078 0,0.901693 0,1.803385 0,2.705078 z m 0.03438,-0.103125 c 1.44e-4,0.829154 -0.01629,2.839544 0.0543,0.808203 -0.03655,-0.0052 0.04773,-1.238861 -0.0543,-0.808203 z m 0.158203,-7.041797 c -0.214362,-0.202235 -0.208959,0.250479 0,0 z M 13,24.970703 c 0,0.198944 0,0.896406 0,0 z m 5.341349,10.343711 c 0.07892,-5.029768 0.157834,-10.059536 0.236751,-15.089304 -1.678235,0.0014 -3.35647,0.0029 -5.034705,0.0043 -0.290202,3.970984 -0.376405,7.96936 0.123551,11.927621 0.05313,1.152263 0.304674,2.271708 0.587791,3.385931 1.362204,-0.07618 2.724408,-0.152365 4.086612,-0.228548 z"
                    />
                </a>

                {/* Github Link */}
                <a 
                    href="https://github.com/andyodle"
                    target="_blank"                    
                    className="pl-2 pr-2 cursor-pointer"
                >
                    <ImageSVG 
                        width={32}
                        height={32}
                        alt="Github Logo"
                        fill="#ffffff"
                        viewBox="0 0 98 96"
                        pathData="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z"
                    />
                </a>

                {/* Email Link */}
                <a 
                    href="mailto:andy.odle@blacklightcoders.com?subject=Hi Andy, I'd like to hire you."
                    target="_blank"                        
                    className="pl-2 pr-2 cursor-pointer"
                >
                    <ImageSVG 
                        width={32}
                        height={32}
                        alt="Email Andy"
                        fill="#ffffff"
                        viewBox="0 -960 960 960"
                        pathData="M140-160q-24 0-42-18t-18-42v-520q0-24 18-42t42-18h680q24 0 42 18t18 42v520q0 24-18 42t-42 18H140Zm340-302L140-685v465h680v-465L480-462Zm0-60 336-218H145l335 218ZM140-685v-55 520-465Z"
                    />
                </a>                            

            </span>             

            {/* Desktop Navigation */}
            <div className="sm:flex hidden gap-3 md:gap-5">
                <span
                    className="dropdown_link cursor-pointer"
                    onClick={() => scrollToSection("about")}
                >
                    ABOUT ME
                </span>

                <span
                    className="dropdown_link cursor-pointer"
                    onClick={() => scrollToSection("projects")}
                >
                    PROJECTS
                </span>                

                <span
                    className="dropdown_link cursor-pointer"
                    onClick={() => scrollToSection("contact")}
                >
                    CONTACT
                </span> 
            </div>

            {/* Mobile Navigation */}
            <div className="sm:hidden flex">
                <div className="flex">
                    <Image 
                        src="/assets/icons/HamburgerMenu.svg"
                        width={32}
                        height={32}
                        alt="Menu Button"
                        className="hover:bg-primary-orange"
                        onClick={() => setToggleDropdown((prev) => !prev)}
                    />                   
                </div>           
            </div>           

        </nav>

        {/* Collapseable Mobile Links */}
        {toggleDropdown && (
            <div className="flex flex-col gap-2  mt-[0.5] p-5 w-full justify-start items-start bg-primary-nav-blue text-white text-2xl sm:hidden">
                <span
                    className="dropdown_link w-full cursor-pointer"
                    onClick={() => scrollToSection("about")}
                >
                    ABOUT ME
                </span>

                <span
                    className="dropdown_link w-full cursor-pointer"
                    onClick={() => scrollToSection("projects")}
                >
                    PROJECTS
                </span>                

                <span
                    className="dropdown_link w-full cursor-pointer"
                    onClick={() => scrollToSection("contact")}
                >
                    CONTACT
                </span>                            
            </div>
        )}         
        </div>
    )
}

export default Nav
